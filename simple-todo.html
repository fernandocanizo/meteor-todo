<head>
	<title>ToDo</title>
</head>

<body>
	<div class="container">
		<header>
			<h1>ToDo <span class="incomplete-count" title="Unfinished tasks count">({{incompleteCount}})</span></h1>

			{{> loginButtons align="right"}}

			<label class="hide-completed">
				<input type="checkbox" checked="{{hideCompleted}}">
				Hide completed tasks
			</label>

			{{#if currentUser }}
				<form class="new-task">
					<input type="text" name="text" placeholder="Type here to add new tasks..." autofocus>
				</form>
			{{/ if }}
		</header>

		<ul>
			{{# each tasks }}
				{{> task }}
			{{/ each }}
		</ul>
	</div>
</body>

<template name="task">
	<li class="{{#if checked }}checked{{/if}} {{#if private}}private{{/if}}">
		<button class="delete">&times;</button>
		<input type="checkbox" checked="{{#if checked }}checked{{/if}}" class="toggle-checked">
		{{#if isOwner }}
			<button class="toggle-private">
				{{#if private }}
					Private
				{{ else }}
					Public
				{{/if }}
			</button>
		{{/if}}
		<span class="text"><strong>{{username}}</strong> - {{text}}</span>
	</li>
</template>
